{"ast":null,"code":"import _regeneratorRuntime from\"E:/IOT_PROJECT-Dev_LgBao/Frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"E:/IOT_PROJECT-Dev_LgBao/Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"E:/IOT_PROJECT-Dev_LgBao/Frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import axios from\"axios\";import{useState}from\"react\";import{login,setHeader}from\"../../api\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(_ref){var setUser=_ref.setUser;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),userName=_useState2[0],setUserName=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),password=_useState4[0],setPassword=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),errMsg=_useState6[0],setErrMsg=_useState6[1];var onSubmit=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(e){return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:e.preventDefault();_context.next=3;return login({userName:userName,passWord:password}).then(function(res){console.log(res);if(res.status===200){setErrMsg('');console.log(res);localStorage.setItem('home_id',res.data.deviceId);setHeader(res.data.token);setUser(true);}else{setErrMsg(res.response.data);}}).catch(function(e){return console.log(e);});case 3:case\"end\":return _context.stop();}},_callee);}));return function onSubmit(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsx(\"div\",{style:{height:'100vh',display:'flex',marginTop:'150px',justifyContent:'center'},children:/*#__PURE__*/_jsxs(\"form\",{style:{width:\"450px\"},children:[/*#__PURE__*/_jsx(\"header\",{style:{fontSize:'48px',color:'#0d6efd',fontWeight:'bold',textAlign:'center',marginBottom:'40px'},children:\"Login\"}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-outline mb-4\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"email\",id:\"form2Example1\",class:\"form-control\",value:userName,onChange:function onChange(e){return setUserName(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{class:\"form-label\",htmlFor:\"form2Example1\",children:\"Username\"})]}),/*#__PURE__*/_jsxs(\"div\",{class:\"form-outline mb-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"password\",id:\"form2Example2\",class:\"form-control\",value:password,onChange:function onChange(e){return setPassword(e.target.value);}}),/*#__PURE__*/_jsx(\"label\",{class:\"form-label\",htmlFor:\"form2Example2\",children:\"Password\"})]}),!!errMsg&&/*#__PURE__*/_jsx(\"div\",{className:\"form-outline mb-4\",children:/*#__PURE__*/_jsx(\"div\",{class:\"invalid-feedback\",style:{display:'block'},children:errMsg})}),/*#__PURE__*/_jsxs(\"div\",{class:\"row mb-4\",children:[/*#__PURE__*/_jsx(\"div\",{class:\"col d-flex justify-content-center\",children:/*#__PURE__*/_jsxs(\"div\",{class:\"form-check\",children:[/*#__PURE__*/_jsx(\"input\",{class:\"form-check-input\",type:\"checkbox\",id:\"form2Example31\"}),/*#__PURE__*/_jsx(\"label\",{class:\"form-check-label\",htmlFor:\"form2Example31\",children:\" Remember me \"})]})}),/*#__PURE__*/_jsx(\"div\",{class:\"col\",children:/*#__PURE__*/_jsx(\"a\",{href:\"#!\",children:\"Forgot password?\"})})]}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",class:\"btn btn-primary btn-block mb-4\",style:{width:'100%'},onClick:function onClick(e){return onSubmit(e);},children:\"Sign in\"})]})});};export default Login;","map":{"version":3,"names":["axios","useState","login","setHeader","jsx","_jsx","jsxs","_jsxs","Login","_ref","setUser","_useState","_useState2","_slicedToArray","userName","setUserName","_useState3","_useState4","password","setPassword","_useState5","_useState6","errMsg","setErrMsg","onSubmit","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","e","wrap","_callee$","_context","prev","next","preventDefault","passWord","then","res","console","log","status","localStorage","setItem","data","deviceId","token","response","catch","stop","_x","apply","arguments","style","height","display","marginTop","justifyContent","children","width","fontSize","color","fontWeight","textAlign","marginBottom","class","type","id","value","onChange","target","htmlFor","className","href","onClick"],"sources":["E:/IOT_PROJECT-Dev_LgBao/Frontend/src/layout/login/Login.jsx"],"sourcesContent":["import axios from \"axios\"\nimport { useState } from \"react\"\nimport { login, setHeader } from \"../../api\"\n\nconst Login = ({ setUser }) => {\n  const [userName, setUserName] = useState('')\n  const [password, setPassword] = useState('')\n  const [errMsg, setErrMsg] = useState('')\n\n  const onSubmit = async (e) => {\n    e.preventDefault();\n    \n    await login({userName, passWord: password})\n      .then(res => {\n        console.log(res)\n        if(res.status === 200) {\n          setErrMsg('')\n          console.log(res)\n          localStorage.setItem('home_id', res.data.deviceId)\n          setHeader(res.data.token)\n          setUser(true)\n        } else {\n          setErrMsg(res.response.data)\n        }\n      })\n      .catch(e => console.log(e))\n  }\n\n  return (\n    <div style={{height: '100vh', display: 'flex', marginTop: '150px', justifyContent: 'center'}}>\n      <form style={{width: \"450px\"}}>\n      \n      <header style={{fontSize: '48px', color: '#0d6efd', fontWeight: 'bold', textAlign: 'center', marginBottom: '40px'}}>Login</header>\n        <div class=\"form-outline mb-4\">\n          <input type=\"email\" id=\"form2Example1\" class=\"form-control\" value={userName} onChange={e => setUserName(e.target.value)} />\n          <label class=\"form-label\" htmlFor=\"form2Example1\">Username</label>\n        </div>\n\n        <div class=\"form-outline mb-2\">\n          <input type=\"password\" id=\"form2Example2\" class=\"form-control\" value={password} onChange={e => setPassword(e.target.value)} />\n          <label class=\"form-label\" htmlFor=\"form2Example2\">Password</label>\n        </div>\n\n        {\n          !!errMsg && <div className=\"form-outline mb-4\">\n            <div class=\"invalid-feedback\" style={{display: 'block'}}>{errMsg}</div>\n          </div>\n        }\n\n        <div class=\"row mb-4\">\n          <div class=\"col d-flex justify-content-center\">\n            <div class=\"form-check\">\n              <input class=\"form-check-input\" type=\"checkbox\" id=\"form2Example31\" />\n              <label class=\"form-check-label\" htmlFor=\"form2Example31\"> Remember me </label>\n            </div>\n          </div>\n\n          <div class=\"col\">\n            <a href=\"#!\">Forgot password?</a>\n          </div>\n        </div>\n\n        <button type=\"button\" class=\"btn btn-primary btn-block mb-4\" style={{width: '100%'}} onClick={e => onSubmit(e)}>Sign in</button>\n      </form>\n    </div>\n  )\n}\n\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}